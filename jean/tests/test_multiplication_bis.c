/*
** EPITECH PROJECT, 2021
** Test
** File description:
** For test functions
*/

#include <criterion/criterion.h>
#include <criterion/redirect.h>
#include "my.h"

void redirect_all_stdout(void);
char *eval_expr(char const *base, char const *ops,
    char const *expr, unsigned int size);

Test(eval_expr, test_multiplication6, .init=redirect_all_stdout)
{
    my_putstr(eval_expr("0123456789", "()+-*/%", "25*-4", 5));
    cr_assert_stdout_eq_str("-100");
}

Test(eval_expr, test_multiplication7, .init=redirect_all_stdout)
{
    char s[] = "99999999999999999999999999999999999999999999999999999*77777777\
777777777777777777777777777777777777777777777777777777777777777777777777777777\
7777777777777777";
    char r[] = "77777777777777777777777777777777777777777777777777776999999999\
999999999999999999999999999999999999999922222222222222222222222222222222222222\
222222222222223";

    my_putstr(eval_expr("0123456789", "()+-*/%", s, 156));
    cr_assert_stdout_eq_str(r);
}

Test(eval_expr, test_multiplication8, .init=redirect_all_stdout)
{
    char s[] = "53287632572309573276537265092387529108652716490217508376595861\
9735783269562109874921861297664298769874621987642*1246912874601294628648937648\
736764376534726897469126412604926142816482154785276814527816489216482517681";
    char r[] = "66445035111436110071108596936826219183602376400137394545409030\
814245856197510333458332867547689054007050567852357805744999206816648913004905\
0716326309713459239729318004006724554489005140242759251233530900628498202";

    my_putstr(eval_expr("0123456789", "()+-*/%", s, 215));
    cr_assert_stdout_eq_str(r);
}

Test(eval_expr, test_multiplication9, .init=redirect_all_stdout)
{
    char s[] = "-5328763257230957327653726509238752910865271649021750837659586\
19735783269562109874921861297664298769874621987642*124691287460129462864893764\
8736764376534726897469126412604926142816482154785276814527816489216482517681";
    char r[] = "-6644503511143611007110859693682621918360237640013739454540903\
081424585619751033345833286754768905400705056785235780574499920681664891300490\
50716326309713459239729318004006724554489005140242759251233530900628498202";

    my_putstr(eval_expr("0123456789", "()+-*/%", s, 216));
    cr_assert_stdout_eq_str(r);
}
